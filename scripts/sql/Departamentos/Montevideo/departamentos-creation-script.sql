-- Script de creaci√≥n de base de datos para cada departamento
CREATE DATABASE IF NOT EXISTS `Departments`;
USE `Departments`;

CREATE TABLE `Circuits` (
  `Number` int NOT NULL,
  PRIMARY KEY (`Number`)
);

CREATE TABLE `Options` (
  `Name` varchar(767) NOT NULL,
  PRIMARY KEY (`Name`)
);

CREATE TABLE `Users` (
  `CI` varchar(64) NOT NULL,
  `Already_Voted` BOOLEAN NOT NULL DEFAULT '0',
  PRIMARY KEY (`CI`)
);

CREATE TABLE `Votes` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `Circuit_Number` int NOT NULL,
  `Option_Name` varchar(767) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `IX_Votes_Circuit_Number` (`Circuit_Number`),
  KEY `IX_Votes_Option_Name` (`Option_Name`),
  CONSTRAINT `FK_Votes_Circuits_Circuit_Number` FOREIGN KEY (`Circuit_Number`) REFERENCES `Circuits` (`Number`) ON DELETE RESTRICT,
  CONSTRAINT `FK_Votes_Options_Option_Name` FOREIGN KEY (`Option_Name`) REFERENCES `Options` (`Name`) ON DELETE RESTRICT
);

CREATE TABLE `Tokens` (
  `Token` varchar(100) NOT NULL,
  `Ci` varchar(64) NOT NULL,
  `Expiration_Date` datetime NOT NULL,
  PRIMARY KEY (`Token`),
  KEY `Tokens_FK` (`Ci`),
  CONSTRAINT `Tokens_FK` FOREIGN KEY (`Ci`) REFERENCES `Users` (`CI`)
);


-- DEPARTAMENTO MONTEVIDEO
-- Cedulas de prueba
INSERT INTO Users (CI) VALUES ('587cc0766df5241007c1642dddc8ea410c73ba3456748c43e1cc62ce08299189'), ('ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'), ('df5b63321923551b074b5e82f19bb57b0bbbb9194abb9ee07d5cd85877e5dbfd'), ('6281c22d36c827fd7b3e3aba592d58604a8c7189b2373fd2d7c9ef713a08d77a'), ('099acaba7cca709ff861d94a86e0177ff3507e9e963555413b7dfeaa513f2c99'), ('4d6bff36600bac00c3ad8480dcd9a827f8731b357e5d69a4703be29f8773d5a2'), ('d31fc1ae495f6c2ec95313a45a7f42195ed9726545123312e0b7015760915eeb'), ('16890323afc59e520ede2d55de77b23f58437eb5d93c86ea4fcaa0c3e4883ac7'), ('2a50d30df5b283ef14dd88ab3e4a7bb3baf0bc171550784b7965676d3f12e062'), ('d0133714af1e2a7bf31ed6bf13634e28966094fd7778f69ec2345c6c1bb7d03e'), ('958742f75e60255198b0d3bd26f2ac3637b3f91117554860a569f0724e4edada'), ('442562ee9c2c11cfbb5c9391681e70484e924a59642128c163fe2d76caf7af09'), ('e9f054e466c0083663898df02a788cd6b1e25ad144793bb1080b68e689e4f7b1'), ('8c9344e5c0f0280fbea4b73e272c990115a2d42b4da927366604ca30d6bb80f4'), ('c2d1a7f4b77ac020cff4bdebc03b2d7fd9a536644c65d9fa6312dc10c9a63c91'), ('a9b826e89b5d4079f977336c2d56a4f10afcd80f1d3593475efb489c063330c9'), ('ddca1a517a11ad7ef3fb63a6d6b2d68e158e24526654af9293bc94ac4c3f06c6'), ('eced798569cf1f8b6beb9fac6343b094eaddbf1b1b14a54194754012affd7614'), ('00dfeb17cccce2432f97292e8047883c36174f00c3771b6cd4c78ab856dffa72'), ('0e54d3f260f55554fdd61ca806f58d053ee499f12e8c444c9bf79078e1e869e5'), ('ec6c4bed980642c19e6605282f42c197d076d6ef75279c3500c54e3e034ed911'), ('35fe4a5192f462eae466bef1b6e1ccd53e5d254a97a2bc33fc8dbf2c4027a548'), ('1ddc68efe2e37555ca358b029d27e642054f00b383945d1bcf5c205950c69149'), ('eabe52162f6ab87ab7916d4bbe6f002cae8e3533eb3a8359663e40177908a712'), ('5eb932bf8ed963c1409cd5b75861429635b21e1e6100024a25fd990e9f8f51df'), ('53af9ac9f15491a447f2caff5e88073a571cebb68486f8f3f462b8b1a5124690'), ('9b1c92948c51464694673031c4f3e60c5b53d623414c0837e356d097269e17cb'), ('f6cf2158d02095baf456d085fd1213e09f12b2ead57061d96847e51f69581d40'), ('50fc47c339e54f8335d2c1ee5080411c11445b5979074a3884e1c8d73eb4a78b'), ('1351df306217688736bb81340281bf09306cfe064690bfc1ed1c7d1681e0c152'), ('41d43746510d53acd7aec26fabbab21eb05406e3df81558ee0bed04110ac6c14'), ('bd10076ea2f14c3a4b24dcc4952bce0a4f8ee163b47822503d4c3bd63fc02220'), ('107eee889793184070bb83a1e21284f9feafb9230093b4b2963a50a2de872c9f'), ('b80f21b54d6135c5d79487fd7b6fcf5a34d6d1ae7909e4a087f3d98f989932a8'), ('c1c9543ba83d6a3d487c77e3eb440345856eb309e5cf029f49a6d17700c7258b'), ('9c8303ce578febf71e54cb18d6d8f113a241e1cfb7addc6112dafe6e41258ef6'), ('687d98b4749adacf46163b9c9fdf9e7a6a176d8c2e4400bbb554fc31c20840f9'), ('395da4f95e093d3888d7cf1f280d34e8e473bb9832a8fb467036eefd9633a9de'), ('8da8be435844573b6a848c53783395fe22a3d2d2568401345c85437dced9e269'), ('8afb825f246648c30881f5746e3a28926bd1c64aa4ec136c173ed4fa463ce7f2'), ('9b50cc90106a7f74da62e869ca5d0b24012901c75e827ab5dd568211dbbd1159'), ('45c428dab912c75fdcf3494951824f32120b22b4f8f3266f6bbd20a7a208c288'), ('08416ffc0a800cb1f6772577286591e8ade5e87885fac69ae3fe88f50ac415e5'), ('2c454d65e8c5c4bddc2d8a679de180d1364a911e4d4383ac16734c5ea314820e'), ('a9ae904ef47ec4de05d3ea139c41c70e7789c60b81d369ed7212768248aa1235'), ('712925b42347d4307083f44420d9211cdc24797d87ed71add46b92e31de2b942'), ('20da0fa52f6497a020115ce91982ff19960a81ca51e9d5324c32e3b790efaae6'), ('72bc4f083e336f89e9e826b758ce8a3300afcf3bed74ef4a3325c9c978f7101f'), ('841834b20a75cbd9c9234c5e66a04e742a010c84405cdde5e54049cccc0f9f31'), ('321bbc8ae8d3526caf8fbbeb5ceff85f62776101c0ff8581b9aa4aa08519a934'), ('4e52fe2a257bd25975e4a337ad709531644e3c8d8998730dff0df49559a59a31'), ('d4e8dfcc3a80524ea0001baa965521ebb3d034bc6aba988e9045b2ac0ac8bc7b'), ('7d29349324d797449b826d6213b68fcb82a67503f9def1e6af89c058ae313ee6'), ('77e2680c402eecb9f1c7d1915dd1bc4e134d4581fdcd605e16f25ebce0ae3d9c'), ('7dbc42991445d9f79f03c7772381a5cb1e7bf182d27da9bf7851dbddb48fb0fd'), ('b570a88c4117638b175d50c31c667f038d70baf1dad2e3199c527385a6f8ea3c'), ('8726f675a34902b48c696cb9df866d82c862e51d3d4dba083b2c7c4a91fc7319'), ('7240bcd127344ce39b31477eef2cacd96fec3bc6319404ffe0a01e58451c992c'), ('41cc0706ff03cc174d47ddb92f0eed03bf8e5ef2fa64ff2afa842af0ae341f9a'), ('13cb49146ae3e207bcc822073416214bc97659535b685c3c692b56f470d218b1'), ('2dd3034f9089bd029fe49b98c1800e8de956c4aa58dbe50c12e6dea5b2eae01a'), ('6ef0b35cc1c9ae73a4f175eb19c59f16298a5a29968f2c747fb1a9e04e8dc179'), ('999ae86efd3625809a8c1119700c8b986f4cadfb01350d41d79188525337bf4b'), ('97a6ba6a13f8b5edd1f4ab07534d865c85371750bc7f0a8c77a7efcca2256822'), ('9ba502a5c9de61c1ed46e51886d93737beff72958f03d84b6ffd6ca60cfd8c81'), ('a4747becfb4262566545764925f9d6c070b9cf1a0245d71f31707ad5a3557fe8'), ('ed25429c65be9d2865fc15a77c70d4424470b4fc60b055afd3fb974ce9f6e9b0'), ('a92a21d9e715710e624548cfaac694341a892768c5adc724b475e1a4c9c72926'), ('630122cf6ca682843ff3c02a856ee5538d1c4ff6bb5bcea2ef7ed89890b8ed0b'), ('6e512fb883ace7e7ccfda774e0972d4f4f40602ad8a833225ac2f997d6114a52'), ('90325b46249ff9a21d315dbb6202322d060073312d089269cf64c7f38081e938'), ('37016c8589e8cb2588028bc265900ee0c1918b6d0b724d7a222c416e652af8aa'), ('03a515ffd4219a12487a433a118f34931fe5b4bfa7151fb3bf19547c3839bf40'), ('d80f18c2af948e0e9acd3bc7d341178d99f250e60e0f0dbdbd6a54822e0c0de7'), ('d6b4b48a0d8b8ba2c0a28041be30e9ba25d4d17dde2a68eab32affdb3e3bf06a'), ('856723d11e6ff804a066c6a138f445041de94b2e6906e3ffd72994c3b388088a'), ('827028d9a5371e942a9c490b156ead0cc6b7d1e3504330e5411ca913c5ff1b9d'), ('207e8938e0ec34fc922860aea6fd3be5106e0c005d9c31310951ad089ac658e1'), ('eb7df44fe84bc984d2bebcb5f3c549d8d8c7f80b33dde73827a09acfb59bfbe7'), ('16803681dd774f6b72fd5dab76e0c328f89ed37cd5ca6bb357d770ac3d65c0f5'), ('274a625233926bc7bbbae4b550a022055dfcdf4de60b53f1b85ed98f9c9df498'), ('8e54483912a28a2238feae2427f7d2f5827de68cbb0f7c32af37775c578f4f60'), ('b376bbd2abea96dcd87fe577221260f7829e6e33fc04f960c487c7ff32b436f8'), ('e6866a5b8e8cfa98ef377f43f20b981f0e59ae73286c395b808d48dcf84d559c'), ('bff9fe34ab1b4e5576f49c23fae26fa9e7217888db3ef0c969f9f6b84afe17fd'), ('a40065f644c80c6370ad2fb1f14c0a8862fb25c576283e2510577d690ad88991'), ('18407fd77f47a02e6f51105dfe41a5940e7eebea8a776d236395aa4ad3384752'), ('42a32f4dcf79580891c0367e123ea2242e984af45efb5e1a0b0b64ab6c19ffd8'), ('266adcee8c490736306f1c9d6680eb5f3e7d1408460ba45c6b77dcd4992e0369'), ('7dee0d48226d4a4e0bb128b0334c7d46ecb70e428d5bac30a67ebb6c120a5e9f'), ('6d79d7afd3932d7b20e9aa6f26c65cd100617c600f9b869cb58339bfd90a0454'), ('9b1d55cf84545756e29ad7dd49577a32d702933341e4844d9ab5ad2d1ae7d5ff'), ('20d7932f2842426b51ec390c1f5829914b2bd8ed0da5f5d99759cf5b4057276a'), ('818ec4b31b5160f01d14c061cdef032e1291af0572aef3e1defe6c8274a87578'), ('37e0435e4ef9b1b3953618079787a03f5d7932b7587c4b22aa2ab89520d3b71b'), ('ebe8e8a5608bdf0e4015c49555d1c11dfa3e2d5276e481d1aa73f098b2dd69fc'), ('1f8ab8ad19dc263cfc8a17d9c0458e63866e83b3d2b8359457d488bb48ebf198'), ('3e631a9ae00dac03c3647d671687f6bdfff9ee540e501d465e18f2d18a5df96c'), ('08669b6187c16981b10f2f48b82e30092f1a45bc6091528efb7a019463b35480'), ('f6b6bdd2f9930ab77f22afe450e7652c616107adc2fb6b6c098edda1cde0d779');

-- Opciones de Voto
INSERT INTO Departments.`Options` VALUES ('Voto Si'), ('Voto No'), ('Voto Anulado'), ('Voto en Blanco'); 

-- Circuitos disponibles
INSERT INTO Circuits VALUES (0), (1), (2), (3), (4), (5), (6), (7), (8), (9), (10);
